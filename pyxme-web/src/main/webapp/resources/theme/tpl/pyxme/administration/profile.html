<div class="bg-light lter b-b wrapper-md">
    <h1 class="m-n font-thin h3">PROFILE</h1>
</div>
    <script type="text/ng-template" id="modal-select-phone">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" ng-click="currentModal.close();" aria-hidden="true">&times;</button>
                <h4 class="modal-title">TEL&Eacute;FONO</h4>
            </div>

            <div class="modal-body">
                <ui-phone phone="phoneDto" valor-validador="vm.validador"></ui-phone>
            </div>

            <div class="modal-footer">
                <div class="btn-group btn-group-justified">
                    <a href class="btn btn-primary" ng-click="currentModal.close();"  >CANCELAR</a>
                    <a href ng-hide="vm.validador" class="btn btn-default" >ACEPTAR</a>
                    <a href ng-show="vm.validador"  class="btn btn-success" ng-click="vm.submit(phoneDto)" >ACEPTAR</a>
                </div>
            </div>
        </div>
    </script>

<div class="wrapper-md" ng-controller="ProfileController as vm">
    <div class="animated fadeInDown delay">
        <form name="formPerson" class="form-validation">
            <div>
                <div class="panel b-a bg-light lt">
                    <div class="panel-heading pos-rlt b-light">
	                    <div class="panel-heading font-bold">DATOS PERSONALES</div>
	                    <div class="text-right">
							<button type="submit" ng-click="formPerson.$valid ? vm.savePerson(vm.personDto):vm.alertRequiredFields()" class="btn btn-primary btn-addon">
							<i class="fa fa-circle-o-notch"></i>ACTUALIZAR</button>
						</div>				
                    </div>
                    <div class="panel-body has-success">
                        <label class="col-sm-2 control-label">PRIMER NOMBRE: </label>
                        <div class="col-sm-10">
                        <input style="text-transform:uppercase" type="text" ng-model="vm.personDto.firstName" class="form-control" placeholder="campo obligatorio"  required />
						</div>

                        <div class="line line-dashed b-b line-lg pull-in"></div>
                        <label class="col-sm-2 control-label">SEGUNDO NOMBRE: </label>
                        <div class="col-sm-10">
                        <input style="text-transform:uppercase" type="text" ng-model="vm.personDto.secondName" class="form-control" placeholder="campo opcional"  />
						</div>

                        <div class="line line-dashed b-b line-lg pull-in"></div>

                        <label class="col-sm-2 control-label">PRIMER APELLIDO: </label>
                        <div class="col-sm-10">
                        <input style="text-transform:uppercase" type="text" ng-model="vm.personDto.firstLastName" class="form-control" placeholder="campo obligatorio"  required />
						</div>
                        <div class="line line-dashed b-b line-lg pull-in"></div>

                        <label class="col-sm-2 control-label">SEGUNDO APELLIDO: </label>
                        <div class="col-sm-10">
                        <input style="text-transform:uppercase" type="text" ng-model="vm.personDto.secondLastName" class="form-control" placeholder="campo obligatorio" required />
						</div>
						
						
						<div class="line line-dashed b-b line-lg pull-in"></div>
                	
	                	<div>
		                    <div>
		                        <label class="col-sm-2 control-label"> N&Uacute;MERO IDENTIFICACI&Oacute;N:</label>
		                        <span class="text-muted m-l-sm pull-right"></span>
		                    </div>
		                    <div>
		                        <div class="col-sm-10">
		                            <input type="text"
		                                   ng-disabled="true"
		                                   ng-model="vm.personDto.identificationNumber"
		                                   class="form-control"
		                                   required ng-maxlength="15" maxlength="15"/>
		                        </div>
		                    </div>
	               	 	</div>
                
               			 <div class="line line-dashed b-b line-lg pull-in"></div>
                
		                <div class="has-error">
		                    <div>
		                        <label class="col-sm-2 control-label">SEXO: </label>
								</span>
		                    </div>
		                    <div>
		                        <div class="col-sm-10 has-error">
		                            <div class="row-fluid" ng-repeat="catSex in vm.catalogSexList">
		                                <label class="i-checks">
		                                    <div ng-init="catSex.id==vm.personDto.catalogSex.id?(catSex=vm.personDto.catalogSex):''" />
		                                    <input type="radio" ng-model="vm.personDto.catalogSex" ng-value="catSex"/> 
		                                    <i></i>
		                                    {{catSex.name}}<br/>
		                                </label>
		                            </div>
		                        </div>
		                    </div>
		                </div>
                
                		<div class="line line-dashed b-b line-lg pull-in"></div>           
						<div class="has-error">
		                    <div>
		                        <label class="col-sm-2 control-label">ESTADO CIVIL: </label>
								</span>
		                    </div>
		                    <div class="panel-body">
		                        <div class="col-sm-10">
		                            <div class="row-fluid" ng-repeat="catMaritalStatus in vm.catalogMStatusList">
		                                <label class="i-checks">
		                                    <div ng-init="catMaritalStatus.id==vm.personDto.catalogMaritalStatus.id?(catMaritalStatus=vm.personDto.catalogMaritalStatus):''" />
		                                    <input type="radio"
		                                           ng-model="vm.personDto.catalogMaritalStatus"
		                                           ng-value="catMaritalStatus" ng-disabled="activeDirective" />
		                                    <i></i> {{catMaritalStatus.name}}<br />
		                                </label>
		                            </div>
		                        </div>
		                    </div>
		                </div>	
					
                    	<div class="line line-dashed b-b line-lg pull-in"></div>
                    	<label class="col-sm-2 control-label">EMAIL: </label>
	                    <div class="col-sm-10">
		                    <input placeholder="usuario@gmail.com (opcional)" type="text" ng-model="vm.personDto.email" class="form-control" />
						</div>

						<div class="line line-dashed b-b line-lg pull-in"></div>
	                    <label class="col-sm-2 control-label">FECHA DE NACIMIENTO: </label>
	                    <div class="col-sm-10" ng-controller="DatepickerDemoCtrl">
	                            <div class="input-group w-md">
	                                <input type="text" class="form-control" ng-disabled="activeDirective" datepicker-popup="{{format}}" ng-model="vm.personDto.birthDate" is-open="opened" datepicker-options="dateOptions" close-text="Close" /> <span class="input-group-btn">
										<button type="button" class="btn btn-default" ng-click="open($event)">
											<i class="glyphicon glyphicon-calendar"></i>
										</button>
									</span>
	                            </div>
	                    </div>


					<div class="line line-dashed b-b line-lg pull-in"></div>
                    <label class="col-sm-2 control-label">DIRECCI&Oacute;N: </label>
                    <div class="col-sm-10">
						<div>
						<ui-select ng-required="true"  theme="bootstrap" ng-model="vm.personDto.lstAddress[vm.personDto.lstAddress.length-1].geographicLocation">
	                       <ui-select-match placeholder="seleccione una opcion (obligatario)">{{$select.selected.label}}</ui-select-match>
		                        <ui-select-choices repeat="iterador in vm.lstGeoLoc | filter: $select.search track by iterador.id"
					                               refresh="vm.searchType($select)" refresh-delay="300">
		                        <div ng-bind-html="iterador.label | highlight: $select.search"></div>
	                        </ui-select-choices>
	                    </ui-select>		
                        </div>
					</div>

					<div class="line line-dashed b-b line-lg pull-in"></div>
                    <label class="col-sm-2 control-label">CALLE PRINCIPAL: </label>
                    <div class="col-sm-10">
	                    <input placeholder="campo obligatorio" type="text" ng-model="vm.personDto.lstAddress[vm.personDto.lstAddress.length-1].mainStreet" class="form-control" required/>
					</div>
					
					
					<div class="line line-dashed b-b line-lg pull-in"></div>
                    <label class="col-sm-2 control-label">CALLE SECUNDARIA: </label>
                    <div class="col-sm-10">
	                    <input  placeholder="campo obligatorio" type="text" ng-model="vm.personDto.lstAddress[vm.personDto.lstAddress.length-1].secondaryStreet" class="form-control" required />
					</div>

					<div class="line line-dashed b-b line-lg pull-in"></div>
                    <label class="col-sm-2 control-label">N&Uacute;MERO DE CASA: </label>
                    <div class="col-sm-10">
	                    <input placeholder="campo obligatorio"  type="text" ng-model="vm.personDto.lstAddress[vm.personDto.lstAddress.length-1].homeNumber" class="form-control" required />
					</div>
					
					<div class="line line-dashed b-b line-lg pull-in"></div>		
		            <div>
		            	<div class="text-right">
							<button ng-click="vm.openPhoneModel()" ng-disabled="activeDirective"
		                                    class="btn m-b-xs btn-sm btn-info btn-addon">
		                                <i class="fa fa-phone-square"></i>AGREGAR TEL&Eacute;FONO
		                            </button>
						</div>
		                <div>
		                    <div>
		                        <label class="col-sm-2 control-label">TEL&Eacute;FONOS: </label>
		                    </div>
		                    <div class="panel-body">
		                        <div class="col-sm-10">
		                            <div class="list-group margin-none">
		                                <div class="row-fluid" ng-repeat="phone in vm.personDto.lstPhones">
		                                    <div class="list-group-item">
		                                        <label class="col-sm-2 control-label">{{phone.typeLocation.name}}
		                                        </label>
		
												<div class="row">
			                                        <div class="m-b m-t-sm media-right">
			                                            <div class="btn btn-white btn-flat">
			                                                <i class="fa fa-phone-square"></i>
			                                            </div>
			                                        </div>
			
			                                        <div class="m-b m-t-sm media-body">
			                                        <span class="font-thin font-thin">
														<i class="link-text-color">{{phone.number}}</i>
													</span>
			                                            	
			                                        </div>
			
			                                        <div class="m-b m-t-sm media-right">
			                                            <span class="text-muted pull-right">
														<a class="btn btn-white" ng-click="vm.removeItem(phone)">
															<i class="fa fa-trash fa-fw"></i> Eliminar
														</a> 
														</span>
			                                        </div>
		                                        </div>
		                                        
		                                    </div>
		                                </div>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		            </div>
	                </div>
                </div>
        	</div>
        	</form>
        	
        	<form name="usuario" class="form-validation">
        	<div>
                <div class="panel b-a bg-light lt">
                    <div class="panel-heading pos-rlt b-light">
                    <div class="panel-heading font-bold">DATOS DE USUARIO</div>
	                    <div class="text-right">
							<button type="submit" ng-click="usuario.$valid && vm.passValidate==true ? vm.editPerson(vm.userDto):vm.userRequiredFields()" 
									class="btn btn-primary btn-addon">
							<i class="fa fa-circle-o-notch"></i>ACTUALIZAR</button>
						</div>				
                    </div>
                    
                    <label class="col-sm-2 control-label">NOMBRE DE USUARIO: </label>
                    <div class="col-sm-10 has-success">
	                    <input ng-disabled="true" placeholder="campo obligatorio" type="text" ng-model="vm.userDto.userName" class="form-control" required/>
					</div>
					
					<label class="col-sm-2 control-label">MODIFICAR CLAVE: </label>
                                <div class="col-sm-10">
                                    <input type="checkbox" ng-model="vm.allowChangePassword" />
                                </div>
					
					<div ng-if="vm.allowChangePassword">
						<div class="line line-dashed b-b line-lg pull-in"></div>
	                    <label class="col-sm-2 control-label">CONTRASE&Ntilde;IA: </label>
	                    <div class="col-sm-10 has-error">
		                    <input ng-blur="vm.validatePassword(vm.userDto.password,confirmPass)"  placeholder="campo obligatorio" type="text" ng-model="vm.userDto.password" class="form-control" required />
						</div>
					
					<div class="line line-dashed b-b line-lg pull-in"></div>
                    <label class="col-sm-2 control-label">CONFIRME CONTRASE&Ntilde;IA: </label>
	                    <div ng-init="confirmPass=vm.userDto.password " class="col-sm-10 has-error">
		                    <input  ng-blur="vm.validatePassword(vm.userDto.password,confirmPass)"  
		                    		placeholder="campo obligatorio" 
		                    		type="text" 
		                    		ng-model="confirmPass" 
		                    		class="form-control" required />
						</div>
					
					</div>
					<div class="line line-dashed b-b line-lg pull-in"></div>
                </div>
            </div>
        	
        </form>
    </div>
</div>